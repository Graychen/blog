<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Graychen,13780185250@sina.cn"><title>Codeception测试框架如何编写测试 · Hexo</title><meta name="description" content="如何编写测试Yii2高级应用程序使用Codeception作为其主要测试框架。
搭建测试环境为了运行测试用例，你需要安装 Codeception 。 一个较好的安装方式是：123composer global require &quot;codeception/codeception=2.1.*&quot;compos"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title><a href="/">Hexo</a></h3><div class="description"><p>这个世界需要更多的英雄</p></div></div></div><ul class="social-links"><li><a href="https://twitter.com/huashendung"><i class="fa fa-twitter"></i></a></li><li><a href="http://weibo.com/1763295797/home?wvr=5"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/Graychen"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="assets/blogImg/avatar.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Codeception测试框架如何编写测试</a></h3></div><div class="post-content"><h2 id="如何编写测试"><a href="#如何编写测试" class="headerlink" title="如何编写测试"></a>如何编写测试</h2><p>Yii2高级应用程序使用Codeception作为其主要测试框架。</p>
<h3 id="搭建测试环境"><a href="#搭建测试环境" class="headerlink" title="搭建测试环境"></a>搭建测试环境</h3><p>为了运行测试用例，你需要安装 Codeception 。 一个较好的安装方式是：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">composer <span class="keyword">global</span> <span class="keyword">require</span> <span class="string">"codeception/codeception=2.1.*"</span></span><br><span class="line">composer <span class="keyword">global</span> <span class="keyword">require</span> <span class="string">"codeception/specify=*"</span></span><br><span class="line">composer <span class="keyword">global</span> <span class="keyword">require</span> <span class="string">"codeception/verify=*"</span></span><br></pre></td></tr></table></figure></p>
<p>创建测试目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codecept bootstrap</span><br></pre></td></tr></table></figure></p>
<p>构建测试套件：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codecept build</span><br></pre></td></tr></table></figure></p>
<p>如果测试需要在 Production 环境中执行， yii_test 和 yii_test.bat 必须从 environments/dev 文件夹手动复制到项目根目录。 测试需要一个 额外的数据库 ，这将在测试之间清除。 在mysql中创建数据库 yii2advanced_test （根据 common/config/test.php 中的配置）并执行：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./yii_test migrate</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>然后所有的样例测试可以通过运行如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codecept run</span><br></pre></td></tr></table></figure></p>
<p>docker环境下运行搭建并运行测试：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it health_web_1 ./vendor/bin/codecept boostrap</span><br><span class="line">docker exec -it health_web_1 ./vendor/bin/./yii_test migrate</span><br><span class="line">docker exec -it health_web_1 ./vendor/bin/codecept build</span><br><span class="line">docker exec -it health_web_1 ./vendor/bin/codecept run</span><br></pre></td></tr></table></figure></p>
<p>测试套件描述：</p>
<ul>
<li>unit ⇒ 单元测试,对程序模块(类中的方法)来进行正确性检验的测试工作（主要）。</li>
<li>api ⇒ api接口测试(主要)。</li>
<li>functional ⇒ 功能测试，应用程序内部请求/响应（无Web服务器）。</li>
<li>acceptance ⇒ 验收测试，web应用程序，用户界面和javascript交互。</li>
</ul>
<h2 id="启动测试"><a href="#启动测试" class="headerlink" title="启动测试"></a>启动测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> docker <span class="built_in">exec</span> -it usercenter_web_1 bash</span><br><span class="line">//或者</span><br><span class="line"> docker <span class="built_in">exec</span> -it health_web_1 /bin/sh</span><br><span class="line">./vendor/bin/codecept run -c tests</span><br></pre></td></tr></table></figure>
<p>-c 指定目录<br>api测试需要启动一个web服务器<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -S localhost:80 --docroot api/tests &amp;&gt;/dev/null&amp;</span><br></pre></td></tr></table></figure></p>
<h2 id="搭建测试环境-1"><a href="#搭建测试环境-1" class="headerlink" title="搭建测试环境"></a>搭建测试环境</h2><p>目录结构</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">├── codeception</span><br><span class="line">│   ├── api  //api测试</span><br><span class="line">│   ├── api.suite.yml  //api测试配置</span><br><span class="line">│   ├── _bootstrap.php</span><br><span class="line">│   ├── _data</span><br><span class="line">│   │   └── dump.sql  //初始化sql</span><br><span class="line">│   ├── _output  //日志</span><br><span class="line">│   ├── _support                                                    </span><br><span class="line">│   ├── unit</span><br><span class="line">│   │   ├── _bootstrap.php   //依赖文件</span><br><span class="line">│   │   ├── models</span><br><span class="line">│   │   │   ├── ActivityConfigTest.php  //单元测试</span><br><span class="line">│   │   └── UnitTester.php</span><br><span class="line">│   └── unit.suite.yml  //单元测试配置文件</span><br><span class="line">├── codeception.yml</span><br><span class="line">├── _envs</span><br><span class="line">├── _output</span><br><span class="line">└── _support</span><br><span class="line">    └── _generated</span><br></pre></td></tr></table></figure>
<p>在根目录运行codecept bootstrap 创建test目录和codeception.yml 文件</p>
<h3 id="api测试详解"><a href="#api测试详解" class="headerlink" title="api测试详解"></a>api测试详解</h3><p>API测试在功能测试级别完成，但是不是测试用户操作的HTML响应，而是通过REST或SOAP等协议来测试请求和响应。要开始写api测试，你应该为他们创建一个套件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/codecept g:suite api</span><br></pre></td></tr></table></figure></p>
<p>您将需要启用REST，Yii2模块tests/api.suite.yml：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class_name: ApiTester</span><br><span class="line">modules:</span><br><span class="line">    enabled:</span><br><span class="line">        - REST:</span><br><span class="line">            url: /api/v1</span><br><span class="line">            depends: Yii2</span><br><span class="line">        - \ApiBundle\Helper\Api</span><br><span class="line">    config:</span><br><span class="line">        - Yii2</span><br></pre></td></tr></table></figure></p>
<p>Yii2模块操作amOnPage或see不应该可用于测试API。这就是为什么Yii2模块没有被启用，但被声明depends为REST模块。</p>
<p><a href="http://codeception.com/docs/10-WebServices#REST" target="_blank" rel="noopener">继续执行REST API测试指南»</a></p>
<h3 id="单位测试详解"><a href="#单位测试详解" class="headerlink" title="单位测试详解"></a>单位测试详解</h3><p>单元测试位于tests/unit目录中，应包含所有类型的单元和集成测试。</p>
<p>每个测试用例扩展Codeception\Test\Unit类，这是单元测试的标准Codeception格式。在Yii中开发完全隔离的单元测试是非常困难的，所以在每个测试用例之前应用程序是自举的。tests/unit.suite.yml使用Yii2模块启用测试配置文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">modules:</span><br><span class="line">    enabled:</span><br><span class="line">      - Yii2:</span><br><span class="line">            part: [orm, email]</span><br></pre></td></tr></table></figure></p>
<p>该模块启动测试用例的Yii应用程序，并提供其他帮助方法来简化测试。它只有orm和email零件，以排除需要的只是功能性的测试方法。</p>
<p>通过访问测试用例中的$this-&gt;tester类可以使用Yii2模块的方法。因此，如果您已启用orm和电子邮件部件，以便您可以调用属于这些部分的方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// insert records in database</span><br><span class="line">$this-&gt;tester-&gt;haveRecord(&apos;app/model/User&apos;, [&apos;username&apos; =&gt; &apos;davert&apos;]);</span><br><span class="line">// check records in database</span><br><span class="line">$this-&gt;tester-&gt;seeRecord(&apos;app/model/User&apos;, [&apos;username&apos; =&gt; &apos;davert&apos;]);</span><br><span class="line">// test email was sent</span><br><span class="line">$this-&gt;tester-&gt;seeEmailIsSent();</span><br><span class="line">// get a last sent emails</span><br><span class="line">$this-&gt;tester-&gt;grabLastSentEmail();</span><br></pre></td></tr></table></figure></p>
<p>如果启用fixtures部件，您还将获得在测试中加载和使用灯具的方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// load fixtures</span><br><span class="line">$this-&gt;tester-&gt;haveFixtures([</span><br><span class="line">    &apos;user&apos; =&gt; [</span><br><span class="line">        &apos;class&apos; =&gt; UserFixture::className(),</span><br><span class="line">        // fixture data located in tests/_data/user.php</span><br><span class="line">        &apos;dataFile&apos; =&gt; codecept_data_dir() . &apos;user.php&apos;</span><br><span class="line">    ]</span><br><span class="line">]);</span><br><span class="line">// get first user from fixtures</span><br><span class="line">$this-&gt;tester-&gt;grabFixture(&apos;user&apos;, 0);</span><br></pre></td></tr></table></figure></p>
<p>如果Yii2模块启用，您可以安全地调用Yii::$app测试内容，因为应用程序在测试后被初始化和清理。如果你想为你的测试用例添加你的帮助方法或者自定义的断言，你不应该扩展，Codeception\Test\Unit而是写出你自己的单独的Helper类。</p>
<p><a href="http://codeception.com/docs/05-UnitTests" target="_blank" rel="noopener">继续进行单元测试指南»</a></p>
<h3 id="功能测试"><a href="#功能测试" class="headerlink" title="功能测试"></a>功能测试</h3><p>当测试Web应用程序的实际功能时，您不能仅使用单元测试。你想测试应用程序如何处理请求，它提供什么响应，什么数据保存到数据库等等。要在近用户环境中测试应用程序，但不启动真正的Web服务器或浏览器，您可以使用功能测试。它们的写法远比单元测试简单得多。他们在简单的DSL中描述交互场景，所以您不需要直接处理应用程序，而是从用户的角度描述动作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$I-&gt;amOnPage([&apos;site/contact&apos;]);</span><br><span class="line">$I-&gt;submitForm(&apos;#contact-form&apos;, []);</span><br><span class="line">$I-&gt;expectTo(&apos;see validations errors&apos;);</span><br><span class="line">$I-&gt;see(&apos;Contact&apos;, &apos;h1&apos;);</span><br><span class="line">$I-&gt;see(&apos;Name cannot be blank&apos;);</span><br><span class="line">$I-&gt;see(&apos;Email cannot be blank&apos;);</span><br><span class="line">$I-&gt;see(&apos;Subject cannot be blank&apos;);</span><br><span class="line">$I-&gt;see(&apos;Body cannot be blank&apos;);</span><br></pre></td></tr></table></figure></p>
<p>这样，您不仅可以在站点上测试ContactForm，而且还可以实际输出用户看到的应用程序。Codeception提供了一套标准的动作一样amOnPage，submitForm，see进行测试。Yii2模块提供了特殊的方法，如amLoggedInAs（快速认证）haveRecord，seeRecord，seeEmailIsSent和其他人。它们都列在模块引用中。</p>
<p>功能测试应该写在Cest 文件中，这是一个场景驱动的Codeception测试格式。您可以通过运行以下方式轻松创建新测试：</p>
<p>./vendor/bin/codecept g:cest functional MyNewScenarioCest<br> 功能测试非常强大而简单。强烈推荐使用任何Yii应用程序。</p>
<p><a href="http://codeception.com/docs/04-FunctionalTests" target="_blank" rel="noopener">继续进行功能测试指南»</a></p>
<h3 id="验收测试"><a href="#验收测试" class="headerlink" title="验收测试"></a>验收测试</h3><p>从测试的角度来看，验收测试与功能测试相同。他们测试用户与应用程序的交互，但在这种情况下使用真正的浏览器和Web服务器。它们慢得多，脆弱得多。他们不应该在测试功能的问题上重复功能测试，而应该用于测试应用程序的UI。如果您不确定哪些测试应该被接受，哪些是功能性的，那么写入JavaScript丰富应用程序的接受测试，其中UI高度依赖于浏览器处理。您还可以使用快乐路径场景的验收测试，以确保使用真实浏览器的真实用户在功能测试中达到相同的结果。</p>
<p>默认情况下，基本应用验收测试被禁用（因为它们需要Web服务器，Selenium服务器和浏览器才能运行）。您可以轻松地通过重命名使他们acceptance.suite.yml.example对acceptance.suite.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv tests/acceptance.suite.yml.example tests/acceptance.suite.yml</span><br><span class="line">基本模板使用codeception/base不包含facebook/webdriver运行验收测试所需库的软件包。请更改codeception/base为codeception/codeceptionin composer.json并运行update命令。</span><br></pre></td></tr></table></figure></p>
<p>那么您将需要在测试模式下启动应用服务器：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./tests/bin/yii serve</span><br></pre></td></tr></table></figure></p>
<p>并启动Selenium Server或PhantomJS。对于接受使用WebDriver模块。请检查其参考资料，了解如何使用它。与Yii2模块不同，它对应用程序一无所知，因此，如果要使用Yii像夹具的功能进行验收测试，则应检查是否启用Yii2模块：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># config at tests/acceptance.yml</span><br><span class="line">modules:</span><br><span class="line">    enabled:</span><br><span class="line">        - WebDriver:</span><br><span class="line">            url: http://127.0.0.1:8080/</span><br><span class="line">            browser: firefox</span><br><span class="line">        - Yii2:</span><br><span class="line">            part: [orm, fixtures] # allow to use AR methods</span><br><span class="line">            cleanup: false # don&apos;t wrap test in transaction</span><br><span class="line">            entryScript: index-test.php</span><br></pre></td></tr></table></figure></p>
<p>正如所说，功能和验收测试是相似的，所以为了避免与这些模块的冲突，你应该只加载你真正需要的Yii2模块的一部分。您还必须将cleanup: falseYii2更改设置为数据库，以便在Web服务器上运行的应用程序进行保存和使用。使用entryScript和entryUrl值可以更改应用程序的默认主机和脚本配置。</p>
<p>与功能测试类似，建议使用Cest格式进行验收测试：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/codecept g:cest acceptance MyNewScenarioCest</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeception.com/docs/03-AcceptanceTests" target="_blank" rel="noopener">继续验收测试指南»</a></p>
<h3 id="手动设置-amp-amp-配置"><a href="#手动设置-amp-amp-配置" class="headerlink" title="手动设置&amp;&amp;配置"></a>手动设置&amp;&amp;配置</h3><p>要开始，您需要通过Composer安装Codeception<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require &quot;codeception/codeception&quot; --dev</span><br></pre></td></tr></table></figure></p>
<p>创建基本的测试套件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/codecept bootstrap</span><br></pre></td></tr></table></figure></p>
<p>启用模块Yii2进行功能测试functional.suite.yml：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># functional.suite.yml</span><br><span class="line">modules:</span><br><span class="line">    enabled:</span><br><span class="line">        - Yii2:</span><br><span class="line">            configFile: #insert path to config file</span><br></pre></td></tr></table></figure></p>
<p>Yii2模块唯一必需的参数是configFile。该文件配置为Yii应用程序的测试配置。它应该合并原始应用程序配置覆盖id值，并提供不同的数据库进行测试：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// config/test.php</span><br><span class="line">$config =  yii\helpers\ArrayHelper::merge(</span><br><span class="line">    require(__DIR__ . &apos;/main.php&apos;),</span><br><span class="line">    require(__DIR__ . &apos;/main-local.php&apos;),</span><br><span class="line">    [</span><br><span class="line">        &apos;id&apos; =&gt; &apos;app-tests&apos;,</span><br><span class="line">        &apos;components&apos; =&gt; [</span><br><span class="line">            &apos;db&apos; =&gt; [</span><br><span class="line">                &apos;dsn&apos; =&gt; &apos;mysql:host=localhost;dbname=yii_app_test&apos;,</span><br><span class="line">            ]</span><br><span class="line">        ]        </span><br><span class="line">    ]</span><br><span class="line">);</span><br><span class="line">return $config;</span><br></pre></td></tr></table></figure></p>
<p>测试配置建议存储在应用程序的config文件夹中。您应该提供相对于codeception.yml文件测试配置的路径。</p>
<p>还请确保YII_ENV常数设置为test，因为它是在做tests/_bootstrap.php的基本的和高级的应用程序模板文件。</p>
<p>一旦配置功能测试，就可以轻松地创建单元和验收测试的设置，如本指南中所述。</p>
<p>在基础和高级应用程序模板configFile中定义了全局配置文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># inside codeception.yml</span><br><span class="line">modules:</span><br><span class="line">    config:</span><br><span class="line">        Yii2:</span><br><span class="line">            configFile: &apos;config/test.php&apos;</span><br></pre></td></tr></table></figure></p>
<p>这样我们不需要为每个定义的套件提供测试配置。</p>
<h3 id="伪数据生成器"><a href="#伪数据生成器" class="headerlink" title="伪数据生成器"></a>伪数据生成器</h3><p>安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require fzaninotto/faker</span><br></pre></td></tr></table></figure></p>
<p>使用Faker\Factory::create()创建和初始化一个摊贩发生器，可通过访问你想要的数据类型来命名的属性生成的数据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// require the Faker autoloader</span><br><span class="line">require_once &apos;/path/to/Faker/src/autoload.php&apos;;</span><br><span class="line">// alternatively, use another PSR-0 compliant autoloader (like the Symfony2 ClassLoader for instance)</span><br><span class="line"></span><br><span class="line">// use the factory to create a Faker\Generator instance</span><br><span class="line">$faker = Faker\Factory::create();</span><br><span class="line"></span><br><span class="line">// generate data by accessing properties</span><br><span class="line">echo $faker-&gt;name;</span><br><span class="line">  // &apos;Lucy Cechtelar&apos;;</span><br><span class="line">echo $faker-&gt;address;</span><br><span class="line">  // &quot;426 Jordy Lodge</span><br><span class="line">  // Cartwrightshire, SC 88120-6700&quot;</span><br><span class="line">echo $faker-&gt;text;</span><br><span class="line">  // Dolores sit sint laboriosam dolorem culpa et autem. Beatae nam sunt fugit</span><br><span class="line">  // et sit et mollitia sed.</span><br><span class="line">  // Fuga deserunt tempora facere magni omnis. Omnis quia temporibus laudantium</span><br><span class="line">  // sit minima sint.</span><br></pre></td></tr></table></figure></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-06-18</span><i class="fa fa-tag"></i><a class="tag" href="/categories/技术/" title="技术">技术 </a><a class="tag" href="/tags/php/" title="php">php </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2017/06/18/如何编写测试/,Hexo,Codeception测试框架如何编写测试,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/06/18/探索php中的变量zval结构体/" title="探索php中的变量zval结构体">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/06/17/谈谈进程和线程/" title="谈谈进程和线程">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>